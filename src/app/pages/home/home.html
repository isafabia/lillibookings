<div class="page">

  <!-- top header -->
  <header class="top">
    <div class="brand">
      <div class="logo-pill">
        <span class="logo-dot"></span>
      </div>
      <div class="brand-text">
        <div class="brand-name">lillibookings</div>
        <div class="brand-sub">adventure centre</div>
      </div>
    </div>

    <div class="top-actions">
      <button mat-icon-button>
        <mat-icon>notifications</mat-icon>
      </button>
      <button mat-icon-button>
        <mat-icon>account_circle</mat-icon>
      </button>
    </div>
  </header>

  <!-- welcome -->
  <div class="welcome">
    <h1>welcome, admin ðŸ‘‹</h1>
  </div>

  <!-- calendar -->
  <mat-card class="soft-card calendar-card">
    <div class="calendar-row">

      <button mat-icon-button type="button" (click)="prevWeek()">
        <mat-icon>chevron_left</mat-icon>
      </button>

      <div class="calendar-center">
        <div class="calendar-title">{{ monthLabel }}</div>

        <div class="calendar-days">
          <span *ngFor="let d of weekDays">
            {{ dayName(d) }}
          </span>
        </div>

        <div class="calendar-dates">
          <span
            *ngFor="let d of weekDays"
            (click)="selectDay(d)"
            [ngClass]="{ active: isSelected(d) }"
          >
            {{ dayNumber(d) }}
          </span>
        </div>
      </div>

      <button mat-icon-button type="button" (click)="nextWeek()">
        <mat-icon>chevron_right</mat-icon>
      </button>

    </div>
  </mat-card>

  <!-- primary actions -->
  <div class="primary-actions">
    <button mat-raised-button class="pill primary" routerLink="/add-booking">
      <mat-icon>add</mat-icon>
      add booking
    </button>

    <button mat-stroked-button class="pill secondary">
      <mat-icon>groups</mat-icon>
      manage rota
    </button>
  </div>

  <!-- bookings list -->
  <div class="list" *ngIf="filteredBookings$ | async as bookings">

    <ng-container *ngFor="let b of bookings">
      <mat-card class="soft-card booking-card" [routerLink]="['/booking', b.id]">

        <div class="booking-left">
          <div class="icon-chip">
            <mat-icon>calendar_month</mat-icon>
          </div>
        </div>

        <div class="booking-main">
          <div class="booking-title">{{ b.groupName }}</div>

          <div class="booking-sub">
            {{ b.startTime }} â€“ {{ b.endTime }} â€¢ {{ b.activity }}
          </div>

          <div class="booking-meta">
            {{ b.kidsCount }} kids â€¢ {{ b.teachersCount }} teachers
          </div>

          <div class="notes-badge" *ngIf="b.medicalNotes?.trim()?.length">
            <mat-icon class="notes-icon">warning</mat-icon>
            notes
          </div>
        </div>

        <div class="booking-right">
          <span class="status" [class.pending]="b.status === 'pending'">
            {{ b.status }}
          </span>
          <mat-icon class="chev">chevron_right</mat-icon>
        </div>

      </mat-card>
    </ng-container>

    <!-- empty state -->
    <div class="empty" *ngIf="bookings.length === 0">
      no bookings for this day yet âœ¨
    </div>

  </div>

  <!-- bottom nav -->
 <nav class="bottom-nav">
  <a class="nav-item" routerLink="/" routerLinkActive="active" [routerLinkActiveOptions]="{ exact: true }">
    <mat-icon>home</mat-icon>
    <span>home</span>
  </a>

  <a class="nav-item" routerLink="/bookings" routerLinkActive="active">
    <mat-icon>calendar_today</mat-icon>
    <span>bookings</span>
  </a>

  <a class="nav-item" routerLink="/rota" routerLinkActive="active">
    <mat-icon>groups</mat-icon>
    <span>rota</span>
  </a>

  <a class="nav-item" routerLink="/profile" routerLinkActive="active">
    <mat-icon>person</mat-icon>
    <span>profile</span>
  </a>
</nav>

</div>